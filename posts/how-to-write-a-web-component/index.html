<!DOCTYPE html><html lang="zh-CN"><head><!-- hexo injector head_begin start --><link href="/css/hexo-tag-common.css" rel="stylesheet"/><!-- hexo injector head_begin end --><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="云游君"><meta name="copyright" content="云游君"><meta name="generator" content="Hexo 5.4.0"><meta name="theme" content="hexo-theme-yun"><title>从零开始写一个 Web Component - GitHub Corners | 云游君的小站</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.1.25/dist/yun/yun-markdown.min.css"><script src="//at.alicdn.com/t/font_1140697_dxory92pb0h.js" async></script><script src="https://cdn.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>function initScrollReveal() {
  [".post-card",".post-content img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
}
document.addEventListener("DOMContentLoaded", initScrollReveal);
document.addEventListener("pjax:success", initScrollReveal);
</script><link id="light-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism.css" media="(prefers-color-scheme: light)"><link id="dark-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism-tomorrow.css" media="(prefers-color-scheme: dark)"><link rel="icon" type="image/svg+xml" href="/yun.svg"><link rel="mask-icon" href="/yun.svg" color="#0078E7"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/js/utils.js" as="script"><link rel="preload" href="/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><script id="yun-config">
    const Yun = window.Yun || {};
    window.CONFIG = {"hostname":"www.yunyoujun.cn","root":"/","title":"云游君的小站","version":"1.7.0","mode":"auto","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"搜索...","empty":"找不到您查询的内容: ${query}","hits":"找到 ${hits} 条结果","hits_time":"找到 ${hits} 条结果（用时 ${time} 毫秒）"},"anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","say":{"api":"https://el-bot-api.vercel.app/api/words/young"},"algolia":{"appID":"CJXXAGRCYN","apiKey":"ae1966d2aeab22bf9335679f45d2cd9a","indexName":"my-hexo-blog","hits":{"per_page":8}},"fireworks":{"colors":["102, 167, 221","62, 131, 225","33, 78, 194"]}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/utils.js"></script><script src="/js/hexo-theme-yun.js"></script><link rel="alternate" href="/atom.xml" title="云游君的小站" type="application/atom+xml"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin><script async src="https://www.googletagmanager.com/gtag/js?id=G-1LL0D86CY9"></script><script>if (CONFIG.hostname === location.hostname) {
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-1LL0D86CY9');
}</script><script data-ad-client="ca-pub-2245427233262012" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(function(){
  var bp = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  if (curProtocol === 'https') {
    bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else {
    bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(bp, s);
})();</script><!-- Google Tag Manager --><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-M9KWR9L');</script><!-- End Google Tag Manager --><meta name="description" content="Web Components什么是 Web Components?  Web Components 是一套不同的技术，允许您创建可重用的定制元素（它们的功能封装在您的代码之外）并且在您的 web 应用中使用它们。  Web Components 实际上和现在 React&#x2F;Vue 等前端框架的组件概念十分相似，或者倒不如说 Vue 的 SFC（单文件组件）其实正是借鉴自 Web Components">
<meta property="og:type" content="article">
<meta property="og:title" content="从零开始写一个 Web Component - GitHub Corners">
<meta property="og:url" content="https://www.yunyoujun.cn/posts/how-to-write-a-web-component/index.html">
<meta property="og:site_name" content="云游君的小站">
<meta property="og:description" content="Web Components什么是 Web Components?  Web Components 是一套不同的技术，允许您创建可重用的定制元素（它们的功能封装在您的代码之外）并且在您的 web 应用中使用它们。  Web Components 实际上和现在 React&#x2F;Vue 等前端框架的组件概念十分相似，或者倒不如说 Vue 的 SFC（单文件组件）其实正是借鉴自 Web Components">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://upyun.yunyoujun.cn/images/full-of-reason-but-code-is-error.jpg">
<meta property="og:image" content="https://upyun.yunyoujun.cn/images/github-corners-preview.jpg">
<meta property="og:image" content="https://upyun.yunyoujun.cn/images/stop-talking-and-open-vscode.jpg">
<meta property="article:published_time" content="2021-09-25T10:27:37.000Z">
<meta property="article:modified_time" content="2021-11-11T10:27:37.000Z">
<meta property="article:author" content="云游君">
<meta property="article:tag" content="GitHub">
<meta property="article:tag" content="Web Components">
<meta property="article:tag" content="lit">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://upyun.yunyoujun.cn/images/full-of-reason-but-code-is-error.jpg"><script src="/js/ui/mode.js"></script></head><body><script defer src="https://cdn.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="文章目录"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="站点概览"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="云游君"><img width="96" loading="lazy" src="/images/avatar.jpg" alt="云游君"><span class="site-author-status" title="Looking for dawn.">🌑</span></a><div class="site-author-name"><a href="/about/">云游君</a></div><a class="site-name" href="/about/site.html">云游君的小站</a><sub class="site-subtitle">All at sea.</sub><div class="site-desciption">希望能成为一个有趣的人</div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="首页"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="归档"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">84</span></a></div><div class="site-state-item"><a href="/categories/" title="分类"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">16</span></a></div><div class="site-state-item"><a href="/tags/" title="标签"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">88</span></a></div><a class="site-state-item hty-icon-button" href="/about/#comment" title="留言板"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-clipboard-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="/atom.xml" title="RSS" target="_blank" style="color:orange"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-rss-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://qm.qq.com/cgi-bin/qm/qr?k=kZJzggTTCf4SpvEQ8lXWoi5ZjhAx0ILZ&amp;jump_from=webapi" title="QQ 群 1050458482" target="_blank" style="color:#12B7F5"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qq-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/YunYouJun" title="GitHub" target="_blank" style="color:#6e5494"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://weibo.com/jizhideyunyoujun" title="微博" target="_blank" style="color:#E6162D"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-weibo-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://www.douban.com/people/yunyoujun/" title="豆瓣" target="_blank" style="color:#007722"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-douban-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://music.163.com/#/user/home?id=247102977" title="网易云音乐" target="_blank" style="color:#C20C0C"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-netease-cloud-music-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://www.zhihu.com/people/yunyoujun/" title="知乎" target="_blank" style="color:#0084FF"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-zhihu-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://space.bilibili.com/1579790" title="哔哩哔哩" target="_blank" style="color:#FF8EB3"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-bilibili-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/about/white-qrcode-and-search.jpg" title="微信公众号" target="_blank" style="color:#1AAD19"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-wechat-2-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://twitter.com/YunYouJun" title="Twitter" target="_blank" style="color:#1da1f2"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-twitter-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://t.me/elpsycn" title="Telegram Channel" target="_blank" style="color:#0088CC"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-telegram-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="mailto:me@yunyoujun.cn" title="E-Mail" target="_blank" style="color:#8E71C1"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-mail-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://travellings.link" title="Travelling" target="_blank" style="color:var(--hty-text-color)"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-train-line"></use></svg></a></div><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/links/" title="我的小伙伴们" style="color:dodgerblue"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-genderless-line"></use></svg></a><a class="links-item hty-icon-button" href="/girls/" title="喜欢的女孩子" style="color:hotpink"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-women-line"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Web-Components"><span class="toc-number">1.</span> <span class="toc-text">Web Components</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A1%80%E8%84%89%E4%BC%A0%E6%89%BF"><span class="toc-number">2.</span> <span class="toc-text">血脉传承</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Web-Components-%E6%A1%86%E6%9E%B6%E6%9C%89%E5%93%AA%E4%BA%9B%EF%BC%9F"><span class="toc-number">2.1.</span> <span class="toc-text">Web Components 框架有哪些？</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%87%E7%A8%8B"><span class="toc-number">3.</span> <span class="toc-text">过程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#github-corners"><span class="toc-number">3.1.</span> <span class="toc-text">github-corners</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">3.1.1.</span> <span class="toc-text">是什么？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88"><span class="toc-number">3.1.2.</span> <span class="toc-text">为什么?</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%8E%E4%B9%88%E5%81%9A%EF%BC%9F"><span class="toc-number">3.1.3.</span> <span class="toc-text">怎么做？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%86%E8%8A%82"><span class="toc-number">3.1.4.</span> <span class="toc-text">细节</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#blank-%E5%B1%9E%E6%80%A7%E4%B8%BA%E4%BB%80%E4%B9%88%E9%BB%98%E8%AE%A4%E6%98%AF-false%EF%BC%9F"><span class="toc-number">3.1.4.1.</span> <span class="toc-text">blank 属性为什么默认是 false？</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#lit-%E7%9A%84%E5%93%8D%E5%BA%94%E5%BC%8F%E5%B1%9E%E6%80%A7"><span class="toc-number">3.1.4.2.</span> <span class="toc-text">lit 的响应式属性</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%93%E5%8C%85"><span class="toc-number">3.1.5.</span> <span class="toc-text">打包</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%8C%E5%96%84"><span class="toc-number">3.1.6.</span> <span class="toc-text">完善</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%91%E5%B8%83"><span class="toc-number">3.1.7.</span> <span class="toc-text">发布</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E8%A3%85"><span class="toc-number">4.</span> <span class="toc-text">实装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%8E%E8%AF%9D"><span class="toc-number">5.</span> <span class="toc-text">后话</span></a></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article"><link itemprop="mainEntityOfPage" href="https://www.yunyoujun.cn/posts/how-to-write-a-web-component/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="云游君"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="云游君的小站"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">从零开始写一个 Web Component - GitHub Corners<a class="post-edit-link" href="https://github.com/YunYouJun/yunyoujun.github.io/tree/hexo/source/_posts/posts/how-to-write-a-web-component.md" target="_blank" title="编辑" rel="noopener"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-edit-line"></use></svg></a></h1><div class="post-meta"><div class="post-time" style="display:block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <time title="创建时间：2021-09-25 18:27:37" itemprop="dateCreated datePublished" datetime="2021-09-25T18:27:37+08:00">2021-09-25</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-2-line"></use></svg></span> <time title="修改时间：2021-11-11 18:27:37" itemprop="dateModified" datetime="2021-11-11T18:27:37+08:00">2021-11-11</time></div><span class="post-count"><span class="post-symbolcount"><span class="post-meta-item-icon" title="本文字数"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-file-word-line"></use></svg></span> <span title="本文字数">3.2k</span><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="阅读时长"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-timer-line"></use></svg></span> <span title="阅读时长">12m</span></span></span><span class="leancloud_visitors" id="/posts/how-to-write-a-web-component/" data-flag-title="从零开始写一个 Web Component - GitHub Corners"><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="阅读次数"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-eye-line"></use></svg> <span class="leancloud-visitors-count"></span></span></span><span class="post-meta-divider">-</span><a href="#comment"><span class="post-meta-item-icon" title="评论数"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-chat-3-line"></use></svg> <span class="waline-comment-count" id="/posts/how-to-write-a-web-component/"></span></span></a><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-line"></use></svg></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/%E4%BA%91%E6%B8%B8%E7%9A%84%E5%B0%8F%E6%95%99%E7%A8%8B/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">云游的小教程</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag-item" href="/tags/GitHub/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">GitHub</span></a><a class="tag-item" href="/tags/Web-Components/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">Web Components</span></a><a class="tag-item" href="/tags/lit/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">lit</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body" style="--smc-primary:#0078E7;"><h2 id="Web-Components"><a href="#Web-Components" class="headerlink" title="Web Components"></a>Web Components</h2><p>什么是 Web Components?</p>
<blockquote>
<p>Web Components 是一套不同的技术，允许您创建可重用的定制元素（它们的功能封装在您的代码之外）并且在您的 web 应用中使用它们。</p>
</blockquote>
<p>Web Components 实际上和现在 React/Vue 等前端框架的组件概念十分相似，或者倒不如说 Vue 的 SFC（单文件组件）其实正是借鉴自 Web Components 的概念。<br>它本身 Shadow DOM 的方案做了 CSS 隔离，很好地解决了 CSS 命名污染等问题，但 Web Components 除了规范推进缓慢，也还有很多开发（效率、生态、兼容等）上的不足。</p>
<p>简单来说 Web Components 其实就好比给予你一些浏览器的 API 权限，去定义一个 HTML 标签来自己使用。<br>更多的介绍其实看 MDN 的介绍即可，也无需在这听我这二手的长篇大论。</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/Web_Components">Web Components | MDN</a></p>
</blockquote>
<p>我自己本身也向来讨厌<strong>通篇</strong>理论，而热衷实践，所以我们不妨动手一试，写一个<strong>真正实用</strong>的 Web Component - <code>github-corners</code>。（成果请到文章末尾取用）</p>
<span id="more"></span>

<p><a target="_blank" rel="noopener" href="https://upyun.yunyoujun.cn/images/full-of-reason-but-code-is-error.jpg"><img src="https://upyun.yunyoujun.cn/images/full-of-reason-but-code-is-error.jpg" alt="满口大道理，写十行代码九个报错，一个警告" loading="lazy"></a></p>
<h2 id="血脉传承"><a href="#血脉传承" class="headerlink" title="血脉传承"></a>血脉传承</h2><p>且慢，正所谓磨刀不误砍柴工。在真正动手之前，我们还是了解一下当前 Web Components 的发展状况，找一个趁手又可靠的工具。</p>
<h3 id="Web-Components-框架有哪些？"><a href="#Web-Components-框架有哪些？" class="headerlink" title="Web Components 框架有哪些？"></a>Web Components 框架有哪些？</h3><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/skatejs/skatejs">skatejs</a>: 最后一次 Release 是 2017，最后一次更新是 2019，不做考虑。</li>
<li><a target="_blank" rel="noopener" href="https://github.com/slimjs/slim.js">slim.js</a>: 看起来还在活跃，但知名度（Star）似乎并不高。</li>
<li><a target="_blank" rel="noopener" href="https://github.com/Tencent/omi/">omi</a>: 腾讯旗下，实际上暑假我也参与了腾讯的开源活动 <a target="_blank" rel="noopener" href="https://opensource.tencent.com/summer-of-code">腾讯犀牛鸟开源人才培养计划</a> 并顺利结业，对其也贡献了些代码。作者<a target="_blank" rel="noopener" href="https://github.com/dntzhang">当耐特</a>是微信支付团队成员，也是此次参与项目活动的导师。</li>
<li><a target="_blank" rel="noopener" href="https://github.com/polymer/polymer">Polymer</a>: Google 早期的 Web Components 框架，Since 2013。</li>
<li><a target="_blank" rel="noopener" href="https://github.com/lit/lit">lit</a>: 依旧是 Google 出品，但谷歌对于 Polymer 不是很满意，于是另起炉灶地造了 <a target="_blank" rel="noopener" href="https://github.com/lit/lit-element">lit-element</a>，最终合并到 lit，Since Google I/O 2018。</li>
</ul>
<p>简而言之，Polymer -&gt; lit-element -&gt; lit。</p>
<p>而大部分 Web Components 相关的框架其实很多要么年久失修，要么其实并没有多少人用（意味着很容易遇到问题而无法依靠前人经验），可选项似乎只剩下 omi 与 lit。</p>
<p>尽管我也算是 omi 的贡献者，不过项目本身我觉得并不算腾讯主力在做的事情，与参与 W3C 标准制定的谷歌相比，lit 是一个公司层面上支撑团队在做的事情，而 omi 则是员工的业余开源作品。</p>
<p>因此在生产环境我更倾向于使用 lit 而非 omi。(omi 当作一个实验学习的地方，而 lit 则作为生产实践。)<br>而恰好 vite 也提供了 lit 的模板。</p>
<p><strong>相关导航</strong>：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.webcomponents.org/">WEBCOMPONENTS.ORG</a>: 有很多 Web Components 例子，可以粘贴自己的 npm 包链接到这里<a target="_blank" rel="noopener" href="https://www.webcomponents.org/publish">发布</a>。</li>
</ul>
<h2 id="过程"><a href="#过程" class="headerlink" title="过程"></a>过程</h2><h3 id="github-corners"><a href="#github-corners" class="headerlink" title="github-corners"></a>github-corners</h3><p>我们这次的目标就是实现一个 github-corners 组件。</p>
<p>Web Components 的现况似乎还并不适合大型项目的开发，而 GitHub Corners 恰好是一个极小的实现，同时其功能目的，又能完美发挥 Web Components 独有的优势——跨框架。</p>
<p>先来三段论。</p>
<h4 id="是什么？"><a href="#是什么？" class="headerlink" title="是什么？"></a>是什么？</h4><p><a target="_blank" rel="noopener" href="https://github.com/tholman/github-corners">github-corners</a> 是一个右上角的图标，链接至你的 GitHub 项目。同时当鼠标悬停于上时，它的尾巴还会发生轻微的抖动。</p>
<p>预览: <a href="https://www.yunyoujun.cn/wc-github-corners/">wc-github-corners</a></p>
<p><img src="https://upyun.yunyoujun.cn/images/github-corners-preview.jpg" alt="GitHub Corners Preview" loading="lazy"></p>
<h4 id="为什么"><a href="#为什么" class="headerlink" title="为什么?"></a>为什么?</h4><p>这件事似乎已经有人做了，我们为什么还要重复造轮子？</p>
<p>首先是用于练手学习，其次的话，这个仓库的 GitHub Corners 实际上是原生的 HTML 与 CSS 的结合体，也就是说我们使用它还需要粘贴它的代码，配置各种参数才能使用。（这明显是很麻烦的）</p>
<p>所以我们的第二个目标是将其封装为一个 npm 包，用户只需要安装这个包，就可以简单地一行代码引入，而且可以通过配置参数实现其不同的效果。</p>
<p>说白了，并不是重新造轮子，而是在轮子上进一步优化封装。</p>
<p>我们可以查一下大致有哪些组件。（以 github corners 为例）</p>
<p>我们可以发现其实大部分已有的包，要么是 Vue 组件，要么是 React 组件，这意味着我们只能在对应的框架中使用，而这一简单的功能完全可以使用 Web Components 来实现（这也正是它的优势），从而解决跨框架的问题。（无论你喜欢 Vue 还是 React 抑或是 Angular/Svelte，都可以将其作为 HTML 标签来使用。）</p>
<p>还有一个原因则是，GitHub Corners 已有的 Vue 组件还不支持 Vue3，我早在数月前提了个 <a target="_blank" rel="noopener" href="https://github.com/gluons/vue-gh-corners/issues/55">[Feature Request] Support vue3 | Issue</a>，但是作者打了 <code>enhancement</code> 标签后就鸽了。尽管我打算提 PR 重构，作者似乎还没有回应，所以我决定重新写一个更为通用的组件。（其实这也是本篇文章诞生的原因）</p>
<blockquote>
<p>以及在 <a target="_blank" rel="noopener" href="https://www.webcomponents.org/">webcomponents.org</a> 上搜索 github-corners，目前的确还没有这个组件。</p>
</blockquote>
<h4 id="怎么做？"><a href="#怎么做？" class="headerlink" title="怎么做？"></a>怎么做？</h4><p><img src="https://upyun.yunyoujun.cn/images/stop-talking-and-open-vscode.jpg" alt="废话少说，上号" loading="lazy"><em>废话少说，上号</em></p>
<p>正如前文所述，在 Google 的血脉压制下，我们决定使用 lit 框架。</p>
<p>那么，首先建立一个 vite + lit 模板。（wc 不是厕所，是 Web Components 的首字母缩写！）</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">yarn</span> create vite wc-github-corners
<span class="token comment"># pnpm create vite wc-github-corners</span></code></pre>

<p>选择 <code>lit-ts</code>。（前几天打算给 Vite 提 PR，结果刚好那几天有人提了。）</p>
<p>lit 2.0 将 <code>lit-element</code> 合并进了 <code>lit</code>。</p>
<hr>
<p>开始开发！</p>
<p>建立仓库 <a target="_blank" rel="noopener" href="https://github.com/YunYouJun/wc-github-corners">YunYouJun/wc-github-corners | GitHub</a>。（开源精神，当然是 MIT 协议啦！）</p>
<p>我们主要在 <code>src/index.ts</code> 编辑即可，就如同一个普通的 Class，设置我们需要暴露给用户的属性，并根据属性渲染对应的 DOM 结构。</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/YunYouJun/wc-github-corners/blob/main/src/index.ts">src/index.ts | wc-github-corners</a></p>
</blockquote>
<p>我抽取了几个我认为比较重要的属性。</p>
<ul>
<li><code>blank</code>: boolean，是否打开新的标签页</li>
<li><code>color</code>: string，字体色彩，即 GitHub Logo 颜色</li>
<li><code>fill</code>: string，填充背景色</li>
<li><code>repo</code>: string，你的项目链接，默认为 GitHub 仓库，因此可以简略地写为 <code>YunYouJun/wc-github-corners</code></li>
<li><code>url</code>: string，链接，可以覆盖自动生成的 GitHub 仓库链接</li>
<li><code>label</code>: string，标签，鼠标悬浮时的标题</li>
<li><code>reverse</code>: boolean，反转，将 GitHub Logo 色彩与背景色进行交换</li>
<li><code>position</code>: string，位置，位于左上角还是右上角</li>
</ul>
<blockquote>
<p>更多可参见 <a target="_blank" rel="noopener" href="https://github.com/YunYouJun/wc-github-corners#fields">fields | wc-github-corners</a>。</p>
</blockquote>
<p>更具体的过程其实是件很无聊的事情，无非是查 <a target="_blank" rel="noopener" href="https://lit.dev/">lit 文档</a>，写模板、写参数。<br>以至于我自己懒得在此一一道来，而想起那天恰好无聊开了直播，朋友帮忙录了下来……（咳，有闪过什么羞耻的东西还请忽略）</p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1q44y147eW">录制-822719-20210930-200614-500-从零开始的 Web Component | bilibili</a></p>
<iframe src="//player.bilibili.com/player.html?aid=975762282&bvid=BV1q44y147eW&cid=417146522&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" height="380"> </iframe>

<p>所以更具体的开发过程介绍，就用这个糊弄一下吧，随便拖拽进度条了解思路即可。看仓库代码可能反而更快。</p>
<h4 id="细节"><a href="#细节" class="headerlink" title="细节"></a>细节</h4><p>当然在此过程中也有一些细节问题。</p>
<h5 id="blank-属性为什么默认是-false？"><a href="#blank-属性为什么默认是-false？" class="headerlink" title="blank 属性为什么默认是 false？"></a><code>blank</code> 属性为什么默认是 false？</h5><pre class="language-ts" data-language="ts"><code class="language-ts"><span class="token comment">/**
 * A github corner.
 */</span>
<span class="token decorator"><span class="token at operator">@</span><span class="token function">customElement</span></span><span class="token punctuation">(</span><span class="token string">"github-corners"</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">GitHubCorners</span> <span class="token keyword">extends</span> <span class="token class-name">LitElement</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// ...</span>
  <span class="token comment">/**
   * target="_blank" for link
   */</span>
  <span class="token decorator"><span class="token at operator">@</span><span class="token function">property</span></span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> type<span class="token operator">:</span> Boolean <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
  blank <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">&#125;</span></code></pre>

<p>如上，我们添加了 <code>blank</code> 作为链接的 <code>target=&#39;_blank&#39;</code> 的缩写属性。</p>
<p>因为在 HTML 标签上想要实现布尔值只能省略不写，普通地给 HTML 标签属性传值都会被当作字符串解析。</p>
<p>譬如 <code>blank=&quot;false&quot;</code> 其实等价于传入了 ‘false’ 这一字符串，仍然会被当作 <code>true</code>。<br>只有当我们不写 blank 这个属性时，blank 属性数值才会是 <code>false</code>。</p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!-- 而我们需要其为 true 时，只需要这样写 --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>github-corners</span> <span class="token attr-name">blank</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>github-corners</span><span class="token punctuation">></span></span></code></pre>

<h5 id="lit-的响应式属性"><a href="#lit-的响应式属性" class="headerlink" title="lit 的响应式属性"></a>lit 的响应式属性</h5><p>lit 的 dom 和属性是响应式的，即你修改组件的属性，它渲染出来的 dom 也会响应式变化。</p>
<p>但是 style 并没有，所以如果你有时候需要 property 控制的 style 也是，这时需要给其设置 <code>reflect: true</code>。</p>
<blockquote>
<p>见 <a target="_blank" rel="noopener" href="https://lit.dev/docs/components/properties/">Reactive properties | Lit</a></p>
</blockquote>
<h4 id="打包"><a href="#打包" class="headerlink" title="打包"></a>打包</h4><p>因为我们尽量想要独立使用，所以需要配置一下 vite，以便在打包时不会将 lit 代码排除。</p>
<pre class="language-ts" data-language="ts"><code class="language-ts"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> defineConfig <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"vite"</span><span class="token punctuation">;</span>

<span class="token comment">// https://vitejs.dev/config/</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  build<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    lib<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      entry<span class="token operator">:</span> <span class="token string">"src/index.ts"</span><span class="token punctuation">,</span>
      formats<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"es"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token function-variable function">fileName</span><span class="token operator">:</span> <span class="token punctuation">(</span>format<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">index.</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>format<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">.js</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token comment">// Because we try to use it independently, we don’t exclude lit.</span>
    <span class="token comment">// rollupOptions: &#123;</span>
    <span class="token comment">//   external: /^lit/,</span>
    <span class="token comment">// &#125;,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<h4 id="完善"><a href="#完善" class="headerlink" title="完善"></a>完善</h4><p>一个成功的项目，开发是一部分，而文档和维护也是非常重要的点。</p>
<p>开发完毕后，我们还应当补充好 API 文档，构建后发布到 NPM 包。</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 构建</span>
<span class="token function">npm</span> run build
<span class="token comment"># 生成 dist/index.es.js</span>

<span class="token function">npm</span> publish
<span class="token comment"># 将当前文件夹下 dist 和 types 相关文件发布到 npm 包</span></code></pre>

<p>好，完成。</p>
<p>组件中有着一些属性和对应注释，我需要将这些参数和注释说明转换为文档来给用户阅读。（虽然直接读代码也行，hhh）</p>
<p>手写文档倒不是什么难事，但是以后一旦修改属性、或者描述，我就要再改一遍文档，这合理吗？（<del>合理！</del>）</p>
<p>手动修改难免同步会有疏漏，最优雅的方案应当是根据代码自动生成文档。（就像 <a target="_blank" rel="noopener" href="https://typedoc.org/">TypeDoc</a> 做的事那样）<br>因为代码本身便是用 TypeScript 写的，所以这倒不是什么难事。<br>当然 lit 本身也已经给我们提供了一些方案。</p>
<p>在参考 <a target="_blank" rel="noopener" href="https://github.com/lit/lit-element-starter-ts">lit-element-starter-ts</a> 想要自动生成文档时，我发现了 <a target="_blank" rel="noopener" href="https://www.npmjs.com/package/@custom-elements-manifest/analyzer">@custom-elements-manifest/analyzer</a> 这个包。<br>可以自动解析 class 生成相关参数的信息。</p>
<p>在看了 repo 后，我又发现了 <a target="_blank" rel="noopener" href="https://github.com/open-wc/custom-elements-manifest/tree/master/packages/to-markdown">@custom-elements-manifest/to-markdown</a> 这个包，可以直接利用其结合注释生成文档，而这正是我需要的。</p>
<p>但这还不够，我需要将其直接插入我的 README.md（这样更直观方便），而不是生成一个新的 markdown。</p>
<p>我在其他项目其实也有过类似的需求，所以此前我将其封装成了一个 npm 包，我现在可以直接安装使用。（<del>什么叫沉淀输出，战术后仰</del>）</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">pnpm</span> <span class="token function">add</span> @yunyoujun/utils</code></pre>

<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> markdown <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"@yunyoujun/utils"</span><span class="token punctuation">;</span></code></pre>

<p>生成文档部分代码可见 <a target="_blank" rel="noopener" href="https://github.com/YunYouJun/wc-github-corners/blob/main/scripts/gen-docs.ts">scripts/gen-docs.ts</a>。</p>
<h4 id="发布"><a href="#发布" class="headerlink" title="发布"></a>发布</h4><p>终于到了发布阶段。我们发布的内容主要包括 <code>dist</code> 与 <code>types</code>，<code>dist</code> 是我们编译后直接就可以拿来用的代码，<code>types</code> 则是辅助的类型提示。</p>
<p><code>package.json</code> 中可以如下设置。</p>
<pre class="language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>
  <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"wc-github-corners"</span><span class="token punctuation">,</span>
  <span class="token property">"version"</span><span class="token operator">:</span> <span class="token string">"0.1.3"</span><span class="token punctuation">,</span>
  <span class="token property">"main"</span><span class="token operator">:</span> <span class="token string">"dist/index.es.js"</span><span class="token punctuation">,</span>
  <span class="token property">"exports"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token property">"."</span><span class="token operator">:</span> <span class="token string">"./dist/index.es.js"</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token property">"types"</span><span class="token operator">:</span> <span class="token string">"types/index.d.ts"</span><span class="token punctuation">,</span>
  <span class="token property">"files"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"dist"</span><span class="token punctuation">,</span> <span class="token string">"types"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token property">"analyze"</span><span class="token operator">:</span> <span class="token string">"custom-elements-manifest analyze --globs 'src/index.ts' --outdir dist"</span><span class="token punctuation">,</span>
    <span class="token property">"dev"</span><span class="token operator">:</span> <span class="token string">"vite"</span><span class="token punctuation">,</span>
    <span class="token property">"build"</span><span class="token operator">:</span> <span class="token string">"tsc &amp;&amp; vite build &amp;&amp; npm run copy:demo &amp;&amp; npm run docs:gen"</span><span class="token punctuation">,</span>
    <span class="token property">"copy:demo"</span><span class="token operator">:</span> <span class="token string">"cp demo/* dist/"</span><span class="token punctuation">,</span>
    <span class="token property">"preview"</span><span class="token operator">:</span> <span class="token string">"vite preview"</span><span class="token punctuation">,</span>
    <span class="token property">"docs:gen"</span><span class="token operator">:</span> <span class="token string">"npm run analyze &amp;&amp; esmo scripts/gen-docs.ts"</span><span class="token punctuation">,</span>
    <span class="token property">"prepublishOnly"</span><span class="token operator">:</span> <span class="token string">"npm run build"</span>
  <span class="token punctuation">&#125;</span>
  <span class="token comment">// 。。。</span>
<span class="token punctuation">&#125;</span></code></pre>

<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 发布，确保处于 npm 官方源下</span>
<span class="token function">npm</span> publish</code></pre>

<p>执行发布包的命令，同时会自动触发我们写在脚本里的 <code>prepublishOnly</code> 进行构建，确保每次发布时，都是构建后没问题的。</p>
<p>除了 <a target="_blank" rel="noopener" href="https://www.npmjs.com/package/wc-github-corners">NPM 包</a>，我们还可以发布到 <a target="_blank" rel="noopener" href="https://www.webcomponents.org/publish">webcomponents.org</a>，通过已发布的 npm 包名来发布即可。</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.webcomponents.org/element/wc-github-corners">wc-github-corners | webcomponents.org</a></p>
</blockquote>
<h2 id="实装"><a href="#实装" class="headerlink" title="实装"></a>实装</h2><p>总之先展示一下最后成果。</p>
<ul>
<li>GitHub: <a target="_blank" rel="noopener" href="https://github.com/YunYouJun/wc-github-corners">wc-github-corners</a></li>
<li>Demo: <a href="https://www.yunyoujun.cn/wc-github-corners/">https://www.yunyoujun.cn/wc-github-corners/</a></li>
<li>Demo 代码: <a target="_blank" rel="noopener" href="https://github.com/YunYouJun/wc-github-corners/blob/main/demo/index.html">wc-github-corners/demo/index.html</a></li>
</ul>
<p>软件界用自己的东西叫做 dogfooding, (Eating your own dog food - <a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%90%83%E8%87%AA%E5%B7%B1%E7%9A%84%E7%8B%97%E7%B2%AE">吃自己的狗粮</a>)</p>
<p>所以我打算先好好品尝一下，在自己的各个项目里开始使用起来。</p>
<p>Web Components 的原理，使得它可以在任意框架里被使用，比如我可以在我的 Vue 项目中使用，也可以 React，甚至原生 CDN 引入使用。</p>
<p>我在我的 <a target="_blank" rel="noopener" href="https://yunyoujun.github.io/char-dust/">char-dust</a> 中尝试引用了它，只需要在 <code>head</code> 和 <code>body</code> 标签中对应引入 CDN 和 <code>github-corners</code> 标签即可，So Easy!</p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span>
    <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module<span class="token punctuation">"</span></span>
    <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/wc-github-corners@latest<span class="token punctuation">"</span></span>
  <span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
  <span class="token comment">&lt;!-- ... --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>github-corners</span> <span class="token attr-name">blank</span> <span class="token attr-name">repo</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>YunYouJun/char-dust<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>github-corners</span><span class="token punctuation">></span></span>
  <span class="token comment">&lt;!-- ... --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span></code></pre>

<blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/YunYouJun/char-dust/blob/master/demo/index.html">demo/index.html | char-dust</a><br>不使用 CDN 的话，也可以在 <a target="_blank" rel="noopener" href="https://github.com/YunYouJun/char-dust/blob/master/demo/src/main.ts"><code>main.ts</code></a> 中 <code>import &quot;wc-github-corners&quot;;</code> 来直接使用。</p>
</blockquote>
<p>就此，一个基于 Web Components 技术的小组件就实现完毕了。除了 Demo 本身的示例作用，我想它本身也是足够实用的。<br>也欢迎大家将其用于展示自己的项目。✌️</p>
<h2 id="后话"><a href="#后话" class="headerlink" title="后话"></a>后话</h2><p>实质上这个小项目本在国庆就已经完成了，但却一直拖到现在才介绍。<br>最近终于下定决心做了一个可能决定自己未来走向的选择，希望能在下次和大家好好说道说道。</p>
<hr>
<p>Q.E.D.</p>
</div><div id="reward-container"><span class="hty-icon-button button-glow" id="reward-button" title="打赏" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === &quot;none&quot;) ? &quot;block&quot; : &quot;none&quot;;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-hand-coin-line"></use></svg></span><div id="reward-comment">我很可爱，请给我钱</div><div id="qr" style="display:none;"><div style="display:inline-block"><a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/donate/alipay-qrcode.jpg"><img loading="lazy" src="https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/donate/alipay-qrcode.jpg" alt="支付宝" title="支付宝"></a><div><span style="color:#00A3EE"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-alipay-line"></use></svg></span></div></div><div style="display:inline-block"><a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/donate/qqpay-qrcode.png"><img loading="lazy" src="https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/donate/qqpay-qrcode.png" alt="QQ 支付" title="QQ 支付"></a><div><span style="color:#12B7F5"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qq-line"></use></svg></span></div></div><div style="display:inline-block"><a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/donate/wechatpay-qrcode.jpg"><img loading="lazy" src="https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/donate/wechatpay-qrcode.jpg" alt="微信支付" title="微信支付"></a><div><span style="color:#2DC100"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-wechat-pay-line"></use></svg></span></div></div></div></div><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者：</strong>云游君</li><li class="post-copyright-link"><strong>本文链接：</strong><a href="https://www.yunyoujun.cn/posts/how-to-write-a-web-component/" title="从零开始写一个 Web Component - GitHub Corners">https://www.yunyoujun.cn/posts/how-to-write-a-web-component/</a></li><li class="post-copyright-license"><strong>版权声明：</strong>本博客所有文章除特别声明外，均默认采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a> 许可协议。</li></ul></section></article><div class="post-nav"><div class="post-nav-item"></div><div class="post-nav-item"><a class="post-nav-next" href="/posts/how-to-realize-badge-rotation/" rel="next" title="旋转吧！徽章！"><span class="post-nav-text">旋转吧！徽章！</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div><div class="hty-card" id="comment"><div class="comment-tooltip text-center"><span>如果您有任何关于博客内容的相关讨论，欢迎前往 <a href="https://github.com/YunYouJun/yunyoujun.github.io/discussions" target="_blank">GitHub Discussions</a> 与我交流。</span><br></div><div id="waline"></div><script>Yun.utils.getScript("https://cdn.jsdelivr.net/npm/@waline/client/dist/Waline.min.js", () => {
  const walineConfig = {"enable":true,"serverURL":"https://waline.yunyoujun.cn","comment":true,"visitor":true,"emoji":["https://cdn.jsdelivr.net/gh/walinejs/emojis@latest/bilibili/","https://cdn.jsdelivr.net/gh/walinejs/emojis@latest/weibo/","https://cdn.jsdelivr.net/gh/walinejs/emojis@latest/qq/"],"locale":{"placeholder":"填写邮箱，可以收到回复通知哦～"},"requiredMeta":["nick"],"el":"#waline","lang":"zh-CN"}
  walineConfig.path = "/posts/how-to-write-a-web-component/"
  walineConfig.dark = 'html[data-user-color-scheme="dark"]'
  new Waline(walineConfig)
}, window.Waline);</script></div></main><footer class="sidebar-translate" id="footer"><div class="beian"><a rel="noopener" href="https://beian.miit.gov.cn/" target="_blank">苏ICP备17038157号</a></div><div class="copyright"><span>&copy; 2016 – 2021 </span><a class="with-love" id="animate" target="_blank" rel="noopener" href="https://sponsors.yunyoujun.cn" title="云游君的赞助者们"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></a><span class="author"> 云游君</span></div><div class="powered"><span>由 <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> 驱动 v5.4.0</span><span class="footer-separator">|</span><span>主题 - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v1.7.0</span></div><div class="footer-support"><span>本网站由</span><a class="footer-support-logo" href="https://www.upyun.com" target="blank" title="又拍云"><img height="30" src="https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/logo/upyun-logo.png" alt="又拍云"></a><span>提供 CDN 加速</span></div></footer><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a><a class="popup-trigger hty-icon-button icon-search" id="search" href="javascript:;" title="搜索"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-search-line"></use></svg></span></a><script>window.addEventListener("DOMContentLoaded", () => {
  // Handle and trigger popup window
  document.querySelector(".popup-trigger").addEventListener("click", () => {
    document.querySelector(".popup").classList.add("show");
    setTimeout(() => {
      document.querySelector(".search-input").focus();
    }, 100);
  });

  // Monitor main search box
  const onPopupClose = () => {
    document.querySelector(".popup").classList.remove("show");
  };

  document.querySelector(".popup-btn-close").addEventListener("click", () => {
    onPopupClose();
  });

  window.addEventListener("keyup", event => {
    if (event.key === "Escape") {
      onPopupClose();
    }
  });
});
</script><script defer src="https://cdn.jsdelivr.net/npm/algoliasearch@4/dist/algoliasearch-lite.umd.js"></script><script defer src="https://cdn.jsdelivr.net/npm/instantsearch.js@4/dist/instantsearch.production.min.js"></script><script defer src="/js/search/algolia-search.js"></script><div class="popup search-popup"><div class="search-header"><span class="popup-btn-close close-icon hty-icon-button"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-close-line"></use></svg></span></div><div class="search-input-container"></div><div class="algolia-results"><div id="algolia-stats"></div><div id="algolia-hits"></div><div class="algolia-pagination" id="algolia-pagination"></div></div></div></div><!-- hexo injector body_end start --><script src="/js/hexo-tag-common.js"></script><!-- hexo injector body_end end --></body></html>